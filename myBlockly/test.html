<html><head><meta charset='utf-8'><script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/ShowText/showtext.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/SetWindow/setwindow.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/MatrixLed/matrixled.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/GameElements/gameelements.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/OpenURL/openurl.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/TaiwanAirQuality/taiwanairquality.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/SpeechRecognition/speechrecognition.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/TextToSpeech/texttospeech.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/DeepLearning/deeplearning.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/ESP8266/esp8266.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/WebUSB/webusb.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/ThingSpeak/thingspeak.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/IFTTT/ifttt.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/LINE/line.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/HTChart/htchart.js'></script><script src='https://d3js.org/d3.v4.min.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/WebUSB/demos/serial.js'></script><script src='https://fustyles.github.io/webduino/myBlockly/WebUSB/demos/arduino/arduino.js'></script></head><body><div id='showText' style='position:absolute;z-index:9999'></div><script>const delay=(seconds)=>{return new Promise((resolve)=>{setTimeout(resolve,seconds*1000);});};const main=async()=>{var btn=document.createElement('input');btn.type='button';btn.id='connect';btn.value='Connect to device';document.body.appendChild(btn);var span=document.createElement('span');span.id='status';span.innerHTML='Select your device';document.body.appendChild(span);var txt=document.createElement('input');txt.type='text';txt.id='command';txt.style.display='none';document.body.appendChild(txt);var btn=document.createElement('input');btn.type='button';btn.id='send';btn.value='Send command';btn.style.display='none';document.body.appendChild(btn);var span=document.createElement('span');span.id='response';span.style.display='none';document.body.appendChild(span);while (document.getElementById('connect').value.indexOf('Disconnect')==-1) {await delay(0.1);}var TimerWEBUSB, data;


//Arduino Leonardo Fireware
//https://github.com/fustyles/Arduino/blob/master/WebUSB_Leonardo_MyFirmata.ino
//If you want to stop the code, please reload the page.
TimerWEBUSB = setInterval(async function(){
  data = (webusb_getResponse());
  if (data != '') {
    showtext(20, '#ff0000', (data[0]));
  }
},10);
for (var count = 0; count < 10; count++) {
  webusb_sendCommand('digitalwrite',13,1,'','','','','','','');
  await delay(1);
  webusb_sendCommand('digitalwrite',13,0,'','','','','','','');
  await delay(1);
}
};main();</script></body></html>